{% extends 'base.html.twig' %}

{% block title %}Product
{% endblock %}

{% block body %}

	<div class="row g-4 mt-1">
		<div class="col">
			<div class="card h-100">
				<img src="{{ product.image }}" class="card-img-top" style="max-width: 30vh;" alt="...">
				<div class="card-body">
					<h5 class="card-title">{{ product.name }}</h5>
					<p class="card-text">{{ product.description }}</p>
				</div>
				<div class="card-footer d-flex justify-content-between align-items-center">
					<small class="text-muted">In {{ product.category.name }}, {{ product.quantity }} available</small>
					<a class="btn btn-primary btn-sm" href="">Add to cart</a>
                    {% if is_granted("ROLE_ADMIN") %}
                        <div class="">
                            <a class="btn btn-secondary btn-sm" href="{{ path('app_product_edit', {'id': product.id}) }}" class="btn btn-primary btn-sm">Edit</a>
                            <a class="btn btn-danger btn-sm" href="{{ path('app_product_delete', {'id': product.id}) }}" class="btn btn-danger btn-sm">Delete</a>
                        </div>
                    {% endif %}
				</div>
			</div>
		</div>
	</div>

<a class="btn btn-primary btn-sm my-3" href="{{ path('app_product_index') }}">Go back to product list</a>

{# <a href="{{ path('app_product_edit', {'id': product.id}) }}">edit</a> #}

{# {{ include('product/_delete_form.html.twig') }} #}

{% endblock %}
